# ranked_recommendation

## Description
What `problem` does it `solve`?

This project offers customers `relevant` products that align with their purchasing patterns. This not only increases the likelihood of `additional` sales but also enhances the overall ``customer experience`` by providing tailored product `recommendations`.

![ranked_recommendation_Logo.png](docs/img/suggest_item.jpg)


[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](./LICENSE)

[![View Project](https://img.shields.io/badge/Material-View_Project-purple?logo=MaterialforMKDOCS)](https://cesarservin.com/ranked_recommendation/index.html)
[![Open Notebook](https://img.shields.io/badge/Jupyter-Open_Notebook-blue?logo=Jupyter)](https://github.com/cesarservin/ranked_recommendation/blob/main/notebooks/main.ipynb)
[![View on GitHub](https://img.shields.io/badge/GitHub-View_on_GitHub-blue?logo=GitHub)](https://github.com/cesarservin/ranked_recommendation)



## Table of contents

- [ranked_recommendation](#ranked_recommendation)
  - [Description](#description)
  - [Table of contents](#table-of-contents)
  - [Installation](#installation)
  - [Usage](#usage)
  - [Data](#data)
  - [Model](#model)
  - [Results](#results)
  - [Examples](#examples)
  - [Documentation](#documentation)
  - [Contributing](#contributing)
  - [License](#license)
  - [Roadmap](#roadmap)
  - [Enhancements](#enhancements)
  - [Acknowledgments](#acknowledgments)
  - [Changelog](#changelog)


## Installation

⚠️ Follow the next instructions inside your project folder

1. **Prerequisites**:
   - To install the project `rankmc` in your local environment
**you must have Python 3.10 or later**. Ideally, you use Python 3.11.
1. **Setup**:
   - If Hatch is not already **installed**, install it: `pip install hatch`
   - To activate your environment with `rankmc` type **inside your project folder**:
`hatch shell` (in your laptop)

**That's it! You can now use your package in your local environment.**

## Usage
- **Basic Usage**: Run `ranked_recommendation.exe` or use `ranked_recommendation_main.ipynb`
- **Configuration**: Modify pyproject.toml to add or remove packages.

## Data
- **Sources**: The dataset is provided by [Instacart](https://www.kaggle.com/c/instacart-market-basket-analysis/data). The sample data file should be order_products.csv and products.csv
- **Structure**: Table of key features

```
products
    product_id
    product_name
  ```
```
order_products
    order_id
    product_id
    add_to_cart_order
    reordered
```
## Model

- **Algorithms**: Models or methods used.
  1. Build Transistion Matrix
  2. Evaluate Steady State of Markov Chain Model
  3. Rank Products to Build bundles of products bought together

![Sample_Weights](docs\img\sample_weight_gen.jpg)

## Results

 - **Findings:**
   - Based on both rankings markov chains model and from the initial counts of sales they shown to be similar.
   I was expecting the ranking of products to be different, however given that this is smaller dataset the results might change with the extended dataset.


- **Visualizations**:
  - ![Results](docs\img\rankingscomp.jpg)

## Examples

```python
from rankmc.data.etl import datafile_path_finder, stratified_sample
from rankmc.model.markovchain import prepare_df_for_sparse_matrix, create_sparse_matrix, init_state_mc, eval_markov_chain, create_mc_df
```


## Documentation

[Documentation](https://cesarservin.com/ranked_recommendation/index.html)


## Contributing

To contribute create a PR a use conventional [commits](https://www.conventionalcommits.org/en/v1.0.0/#summary)

```
fix: <description>
feat: <description>
docs: <description>
refactor: <description>
```
## License
[License](./LICENSE) information.

## Roadmap

- Tool to select a product and recommend top 5 products bought together
- what is the high frequent items
- complements goods
- substitute goods
- new products could be not added to tha cart but with high or recent order rank
- abc analysis
- predict product ordering pattern per user


## Enhancements
Other potential future work that can be done to extend the project or improve its functionality is to extend it to a larger dataset

## Acknowledgments

Inspired by experience and GT

Want to compare the sales rankings of top products to the list generated by using Markov Chains based on the order patterns we observe.

## Changelog
- v1.0: Initial release with basic model implementation.
- v1.1: Added feature importance visualization and improved model performance.
